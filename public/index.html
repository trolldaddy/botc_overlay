<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>血染鐘樓 劇本總覽</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; overflow-x: hidden; }
    .panel {
      position: fixed;
      top: 0;
      width: 300px;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      overflow-y: auto;
      padding: 20px;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      z-index: 1000;
    }
    .panel.right { right: 0; left: auto; transform: translateX(100%); }
    .panel.show { transform: translateX(0); }
    .toggle-button {
      position: fixed;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      z-index: 1001;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <button class="toggle-button" onclick="togglePanels()">📜 劇本</button>
  <div id="leftPanel" class="panel"></div>
  <div id="rightPanel" class="panel right"></div>

  <script>
    const characterDataMap = {
      "washerwoman": { name: "洗衣婦", team: "good" },
      "librarian": { name: "圖書館員", team: "good" },
      "investigator": { name: "調查員", team: "good" },
      "chef": { name: "廚師", team: "good" },
      "empath": { name: "共情者", team: "good" },
      "fortune_teller": { name: "占卜師", team: "good" },
      "undertaker": { name: "送葬者", team: "good" },
      "monk": { name: "和尚", team: "good" },
      "ravenkeeper": { name: "烏鴉守衛", team: "good" },
      "virgin": { name: "處女", team: "outsider" },
      "baron": { name: "男爵", team: "minion" },
      "imp": { name: "惡魔", team: "demon" }
    };

    const leftPanel = document.getElementById('leftPanel');
    const rightPanel = document.getElementById('rightPanel');

    function buildPanels() {
      leftPanel.innerHTML = "<h2>善良陣營（鎮民 / 外來者）</h2>";
      rightPanel.innerHTML = "<h2>邪惡陣營（爪牙 / 惡魔）</h2>";

      Object.entries(characterDataMap).forEach(([id, data]) => {
        const item = `<div>${data.name} (${id})</div>`;
        if (data.team === "good" || data.team === "outsider") {
          leftPanel.innerHTML += item;
        } else if (data.team === "minion" || data.team === "demon") {
          rightPanel.innerHTML += item;
        }
      });
    }

    function togglePanels() {
      leftPanel.classList.toggle('show');
      rightPanel.classList.toggle('show');
    }

    buildPanels();
  </script>
</body>
</html>
